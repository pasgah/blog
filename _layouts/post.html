---
layout: default
---

{% include breadcrumbs.html %}

<article id="post-start">
  <h1>{{ page.title }}</h1>

  <p class="post-date" data-date="{{ page.date | date_to_xmlschema }}" style="opacity:0.7; font-size:0.9rem;">
    <span class="date-text">{{ page.date | date: "%Y/%m/%d" }}</span>
    •
    زمان مطالعه: {{ page.content | number_of_words | divided_by: 180 | plus: 1 }} دقیقه
  </p>

  {% include toc.html %}

  <div class="post-content">
    {{ content }}
  </div>

  <div id="post-end"></div>

  <hr>

  {% if page.categories %}
  <p><strong>دسته‌بندی:</strong>
    {% for cat in page.categories %}
      <a href="/categories/#{{ cat }}">{{ cat }}</a>{% unless forloop.last %}, {% endunless %}
    {% endfor %}
  </p>
  {% endif %}

  {% if page.tags %}
  <p><strong>برچسب‌ها:</strong>
    {% for tag in page.tags %}
      <a href="/tags/#{{ tag }}">#{{ tag }}</a>{% unless forloop.last %}, {% endunless %}
    {% endfor %}
  </p>
  {% endif %}

  {% include related_posts.html %}
  {% include newsletter.html %}
  {% include comments.html %}
</article>

<script>
document.addEventListener('DOMContentLoaded', function() {

  /* ============================
     تبدیل تاریخ پست به جلالی
  ============================ */
  (function formatPostDate() {
    const dateElement = document.querySelector('.post-date');
    if (!dateElement) return;
    const dateStr = dateElement.dataset.date;
    if (!dateStr) return;
    const date = new Date(dateStr);
    const formatted = date.toLocaleDateString('fa-IR', {
      year: 'numeric',
      month: 'long',
      day: 'numeric'
    });
    const textEl = dateElement.querySelector('.date-text');
    if (textEl) textEl.textContent = formatted;
  })();

});
</script>
